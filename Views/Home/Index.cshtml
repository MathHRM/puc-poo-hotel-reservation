@{
    ViewData["Title"] = "AcomodaJá";
}

<script>
    const accessKey = "3DJ2NIkkCJoHUtqX47oScQx3AqDUcIAu7oz-kfNDY7Q"
    //https://api.unsplash.com/search/photos?page=1&query=hotels&per_page=9&client_id=3DJ2NIkkCJoHUtqX47oScQx3AqDUcIAu7oz-kfNDY7Q
    async function carregarDados(){
        const resposta = await fetch("https://api.unsplash.com/photos/random?&query=hotels&count=10&client_id=3DJ2NIkkCJoHUtqX47oScQx3AqDUcIAu7oz-kfNDY7Q")
        const dados = await resposta.json();
        console.log(dados[0].urls.regular);
        return dados;
    }

    function updateCards(imageObjects) {
            const cardImageElements = document.querySelectorAll('.results-section .card .card-img-top');
           
            const loopLength = Math.min(cardImageElements.length, imageObjects.length);

            for (let i = 0; i < loopLength; i++) {
                const imageObject = imageObjects[i];

                if (cardImageElements[i] && imageObject.urls && imageObject.urls.regular) {
                    cardImageElements[i].src = imageObject.urls.regular;
                }
            }
        }

    document.addEventListener('DOMContentLoaded', () => {
            carregarDados()
                .then(apiResponse => {
                    if (apiResponse.length > 0) {
                        updateCards(apiResponse); 
                    } else {
                        console.log("Nenhum resultado de imagem encontrado na resposta da API.");
                    }
                })
                .catch(error => {
                    console.error("Erro ao buscar ou processar dados da API:", error);
                });
        });


</script>

<style>
    .card-img-top{
        max-height: 190px;
    }
</style>
<body>
    <div class="container">
        
        <div class="hotel-search-filter-container">
            <form class="row g-3 align-items-end">
               
                <div class="col-lg-4 col-md-12 mb-3 mb-lg-0">
                    <label for="destinationInput" class="form-label"><i class="fas fa-map-marker-alt"></i> Destino</label>
                    <input type="text" class="form-control form-control-lg" id="destinationInput" placeholder="Ex: Rio de Janeiro, Hotel Copacabana">
                </div>

            
                <div class="col-lg-3 col-md-6 mb-3 mb-lg-0">
                    <label for="dateRangeInput" class="form-label"><i class="fas fa-calendar-alt"></i> Período da Viagem</label>
                    <input type="text" class="form-control form-control-lg" id="dateRangeInput" placeholder="Check-in — Check-out">
                    
                </div>

                
                <div class="col-lg-3 col-md-6 mb-3 mb-lg-0">
                    <label for="guestsInput" class="form-label"><i class="fas fa-users"></i> Hóspedes</label>
                
                    <input type="number" class="form-control form-control-lg guest-input-field" id="guestsInput" value="2" min="1" aria-label="Número de hóspedes" title="Número de hóspedes" placeholder="Nº de hóspedes">
                </div>

            
                <div class="col-lg-2 col-md-12 d-grid">
                    <button type="submit" class="btn btn-primary btn-lg btn-buscar w-100"><i class="fas fa-search"></i> Buscar</button>
                </div>
            </form>
        </div>

        <div class="results-section mt-5">
        <h3 class="mb-4">Hoteis Disponiveis:</h3>
            <div class="row">
                
                <div class="col-xl-3 col-lg-4 col-md-6 mb-4">
                    <div class="card h-100">
                        <img src="https://placehold.co/600x400/007bff/white?text=Hotel+Alpha" class="card-img-top" alt="Imagem do Hotel Alpha">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Hotel Alpha</h5>
                            <p class="card-text flex-grow-1">Descrição breve do Hotel Alpha, suas comodidades e localização. Perfeito para suas férias.</p>
                            <a href="#" class="btn btn-primary mt-auto">Ver Detalhes</a>
                        </div>
                    </div>
                </div>
               
                <div class="col-xl-3 col-lg-4 col-md-6 mb-4">
                    <div class="card h-100">
                        <img src="https://placehold.co/600x400/28a745/white?text=Hotel+Beta" class="card-img-top" alt="Imagem do Hotel Beta">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Hotel Beta</h5>
                            <p class="card-text flex-grow-1">Conheça o Hotel Beta, com uma vista incrível e serviços de primeira classe para toda a família.</p>
                            <a href="#" class="btn btn-primary mt-auto">Ver Detalhes</a>
                        </div>
                    </div>
                </div>
                
                <div class="col-xl-3 col-lg-4 col-md-6 mb-4">
                    <div class="card h-100">
                        <img src="https://placehold.co/600x400/ffc107/black?text=Hotel+Charlie" class="card-img-top" alt="Imagem do Hotel Charlie">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Hotel Charlie</h5>
                            <p class="card-text flex-grow-1">O Hotel Charlie oferece conforto e economia, ideal para viajantes a negócios ou lazer.</p>
                            <a href="#" class="btn btn-primary mt-auto">Ver Detalhes</a>
                        </div>
                    </div>
                </div>
                
                <div class="col-xl-3 col-lg-4 col-md-6 mb-4">
                    <div class="card h-100">
                        <img src="https://placehold.co/600x400/dc3545/white?text=Hotel+Delta" class="card-img-top" alt="Imagem do Hotel Delta">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Hotel Delta</h5>
                            <p class="card-text flex-grow-1">Descubra o charme do Hotel Delta, com sua arquitetura única e ambiente acolhedor.</p>
                            <a href="#" class="btn btn-primary mt-auto">Ver Detalhes</a>
                        </div>
                    </div>
                </div>
                
                <div class="col-xl-3 col-lg-4 col-md-6 mb-4">
                    <div class="card h-100">
                        <img src="https://placehold.co/600x400/17a2b8/white?text=Hotel+Echo" class="card-img-top" alt="Imagem do Hotel Echo">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Hotel Echo</h5>
                            <p class="card-text flex-grow-1">Some quick example text to build on the card title and make up the bulk of the card’s content.</p>
                            <a href="#" class="btn btn-primary mt-auto">Ver Detalhes</a>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-lg-4 col-md-6 mb-4">
                    <div class="card h-100">
                        <img src="https://placehold.co/600x400/17a2b8/white?text=Hotel+Echo" class="card-img-top" alt="Imagem do Hotel Echo">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Hotel Echo</h5>
                            <p class="card-text flex-grow-1">Some quick example text to build on the card title and make up the bulk of the card’s content.</p>
                            <a href="#" class="btn btn-primary mt-auto">Ver Detalhes</a>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-lg-4 col-md-6 mb-4">
                    <div class="card h-100">
                        <img src="https://placehold.co/600x400/17a2b8/white?text=Hotel+Echo" class="card-img-top" alt="Imagem do Hotel Echo">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Hotel Echo</h5>
                            <p class="card-text flex-grow-1">Some quick example text to build on the card title and make up the bulk of the card’s content.</p>
                            <a href="#" class="btn btn-primary mt-auto">Ver Detalhes</a>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-lg-4 col-md-6 mb-4">
                    <div class="card h-100">
                        <img src="https://placehold.co/600x400/17a2b8/white?text=Hotel+Echo" class="card-img-top" alt="Imagem do Hotel Echo">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Hotel Echo</h5>
                            <p class="card-text flex-grow-1">Some quick example text to build on the card title and make up the bulk of the card’s content.</p>
                            <a href="#" class="btn btn-primary mt-auto">Ver Detalhes</a>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</body>